# vim: ft=swayconfig
# Scroll WM Config (ported from Sway)

### Variables
set $mod Mod4
set $alt Mod1
# Vim-style direction keys
set $left h
set $down j
set $up k
set $right l
set $term kitty
set $menu bemenu-run -b --binding vim

### Output configuration
output * background /home/wizard/.config/scroll/wallpaper.jpg fill

### Input configuration
# Caps to Escape
input * xkb_options "ctrl:nocaps"

# Touchpad
input "type:touchpad" {
    dwt enabled
    tap enabled
    natural_scroll enabled
    middle_emulation enabled
    accel_profile "flat"
    drag enabled
    drag_lock enabled
}

### Windows defaults
default_border pixel 2
hide_edge_borders --i3 smart
font pango:monospace 0.001
gaps inner 0
gaps outer 0

# Focused window - subtle gray border
client.focused #3a3a3a #3a3a3a #ffffff #3a3a3a #3a3a3a

# Unfocused - NO BORDER (transparent/invisible)
client.unfocused #000000 #000000 #888888 #000000 #000000

# Inactive - NO BORDER
client.focused_inactive #000000 #000000 #888888 #000000 #000000

# Idle inhibit for fullscreen windows
for_window [all] inhibit_idle fullscreen

# Layout settings
layout_default_width 0.5
layout_default_height 1.0
layout_widths [0.33333333 0.5 0.666666667 1.0]
layout_heights [0.33333333 0.5 0.666666667]

# Animations
animations {
    enabled no
    default yes 100 var 3 [ 0.215 0.61 0.355 1 ]
    window_open no 100 var 3 [ 0 0 1 1 ]
    window_move no 100 var 3 [ 0.215 0.61 0.355 1 ]
    window_size no 100 var 3 [ -0.35 0 0 0.5 ]
}

bindsym $mod+Shift+minus move scratchpad
bindsym $mod+space scratchpad show

### Key bindings - Basics
bindsym $mod+Return exec $term
bindsym $mod+Shift+q kill
bindsym $mod+d exec $menu
floating_modifier $mod normal
bindsym $mod+Shift+r reload
bindsym $mod+Shift+e exec scrollnag -t warning -m 'You pressed the exit shortcut. Do you really want to exit?' -B 'Yes, exit' 'scrollmsg exit'

# Layout mode
bindsym $mod+bracketleft set_mode h

### Movement (vim keys) - Focus and scroll
bindsym $mod+$left focus left
bindsym $mod+$right focus right

# Move windows
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$right move right

### Workspaces
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5

bindsym $mod+Shift+1 move container to workspace number 1; workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2; workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3; workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4; workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5; workspace number 5

bindsym $mod+Tab workspace back_and_forth

### Layout
bindsym $mod+e layout toggle split
bindsym $mod+f fullscreen
bindsym $mod+Shift+space floating toggle
bindsym $mod+m toggle_size this 1.0 1.0

### Resizing - Cycle through sizes
bindsym $mod+minus cycle_size h prev
bindsym $mod+equal cycle_size h next

# Manual resize mode
# mode "resize" {
#     bindsym $left resize shrink width 10px
#     bindsym $right resize grow width 10px
#     bindsym Return mode "default"
#     bindsym Escape mode "default"
# }
# bindsym $mod+r mode "resize"

### Scaling - Overview and Zoom
# Overview mode (see all windows)
bindsym --no-repeat $mod+o scale_workspace overview

# Jump to windows
bindsym --no-repeat $mod+slash jump
bindsym --no-repeat $mod+Shift+slash jump container

# Zoom workspace
bindsym $mod+Shift+comma scale_workspace incr -0.05
bindsym $mod+Shift+period scale_workspace incr 0.05
bindsym $mod+Shift+Ctrl+period scale_workspace reset

# Zoom content
bindsym $mod+comma scale_content incr -0.05
bindsym $mod+period scale_content incr 0.05
bindsym $mod+Ctrl+period scale_content reset

### Media keys
bindsym XF86MonBrightnessDown exec "brightnessctl --min-value=1 set 5%-"
bindsym XF86MonBrightnessUp exec "brightnessctl set 5%+"
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%

### Custom bindings
bindsym $mod+g exec "gammastep -O 3000"
bindsym $mod+Shift+g exec "killall gammastep"
bindsym $mod+y exec "~/.config/scroll/screenshot.sh"
bindsym $mod+p exec '[ "$(scrollmsg -t get_bar_config bar-0 | jq -r ".mode")" = "dock" ] && scrollmsg bar mode invisible || scrollmsg bar mode dock'

### Gestures
focus_wrapping no
bindgesture swipe:4:right workspace next
bindgesture swipe:4:left workspace prev
bindgesture swipe:4:up scale_workspace overview

### Status Bar
bar {
    position bottom
    font JetBrains Mono 
    status_command i3status
    colors {
        statusline #018f7a
        background #000000
        inactive_workspace #1c1c1c #16161e #535353
    }
}

include /etc/scroll/config.d/*
